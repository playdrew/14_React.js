<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>key</title>
    <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://unpkg.com/prop-types@15.8.1/prop-types.js"></script>
</head>
<body>
    <div id="root"></div>
    <script type="text/babel">

        /*
            우리가 백엔드와 통신을 할때 몇 개가 될지 모르는 데이터를
            화면에 뿌려줄 준비를 해줘야 한다.
            따라서 우리가 Thymeleaf 를 사용했을때 th:each 기억하자!!
        */

        /* 자바스크립트 수업 때 가장 중요한 거, 배열관련 함수!!!!*/
        // 배열의 map 메소드 복습

        /*
            arr.map(callback함수)를 전달받을 수 있다 // map은 내부에 콜백함수 함수가 내부적으로 함수를 전달받는다. js에서 함수는 객체입니다.
            - callback 함수는 파라미터로 전달 된 배열 내 각 요소를
            - 원하는 규칙에 따라 변환 후 그 결과로 새로운 배열을
            - 만들어 준다. 
            - callback 함수는 (currentValue , index, array ) 파라미터를 갖는다 // 콜백함수는 내부적으로 3가지 인자 존재
            - currentValue : 현재 처리중인 요소
            - index : 현재 처리하고 있는 요소의 index 번호
            - array : 현재 처리하고 있는 원본 배열
        */

        // const number = [1,2,3,4,5];
        // 새로운 배열 만들건데 [1,4,9,16,25]

        // const newNumber = number.map(num => num*num) // map이 새로운 배열을 만들어주면 const newNumber 로 담아줄 준비를 해요.
        // console.log('new',newNumber);

        // const fruit = [{memberNo:1,memberName:조평훈}] 프로젝트시 이런식으로 나온다.
        // const fruit = ['사과','바나나','수박'];
        // fruit.map((value,index,array)=>{// array란 가상의 이름 currentValue의 함축 value
        // console.log('value',value);
        // console.log('index',index);
        // console.log('array',array);})

        // {names} 구조분해 할당 props 로 받았을때 props => const {names} = props.names 축약
        function Items({names}){

            console.log('names',names);

            // Warning should have unique key 
            // 정상적으로 반복된 li 태그가 출력됐지만,
            // 주의가 뜨고 있다. => 주의 이유는 key가 없다.
            // return(
            //     <ul>
            //         {names.map(name => <li>{name}</li>)}
            //     </ul>
            // );
            // {names.map((name,index) => <li key={memberNo}>{index}{name}</li>)}

            return(
                <ul>
                    {names.map((name,index) => <li key={index}>{name}</li>)}
                </ul>
            )
        }

        const names = ['푸바오','루이바오','러바오','후이바오'];

        ReactDOM.createRoot(document.getElementById('root'))
            .render(<Items names={names}/>)
    </script>

    <!-- 
        key란 ?
        리액트에서 key는 컴포넌트에서 배열을 랜더링 할 때, 어떤 요소에
        변동이 있는 지 알아내기 위한 사용하는 식별자 역할을 한다.
        key 가 존재하지 않을 때는 가상DOM과 실제DOM과 비교하는 알고리즘(diff)
        과정에서 배열을 순차적으로 다 비교해가며 변화를 감지한다.
        하지만 key가 존재한다면 , 식별자를 통해 변화 감지를 더욱
        빠르게 할 수 있다.
        일반적으로 key 속성은 화면에 노출되지 않기 때문에
        pk값으로 설정하면 된다. index 는 게시글 번호등으로 사용하면 된다.
    -->

    <!-- 필터랑 맵은 정말 중요합니다. -->
    <!-- html을 반복문 돌리는 것 같지만 JSX를 JS를 반복문 돌리는 거에요  -->

</body>
</html>